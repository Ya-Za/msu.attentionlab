function initScene(){function e(){}function i(){if(null!==eye.obj){var e=2*eye.radius;Math.random()<.9&&(e=plane.width/2);var i=Math.random()*(2*e)-e,n=plane.x-plane.width/2+eye.radius,o=plane.x+plane.width/2-eye.radius;eye.obj.position.x+=i,eye.obj.position.x<n&&(eye.obj.position.x=n),eye.obj.position.x>o&&(eye.obj.position.x=o);var t=Math.random()*(2*e)-e,a=plane.y-plane.width/2+eye.radius,l=plane.y+plane.width/2-eye.radius;eye.obj.position.y+=t,eye.obj.position.y<a&&(eye.obj.position.y=a),eye.obj.position.y>l&&(eye.obj.position.y=l)}}function n(){a.render(c,u)}function o(){e(),n(),requestAnimationFrame(o)}function t(){var e,i;"fullscreen"===s.text?(e=l,i=r):(e=window.innerWidth-20,i=window.innerHeight-20),$("#logo-container").width(e).height(i),$("#logo-container canvas").width(e).height(i),a.setSize(e,i),u.aspect=e/i,u.updateProjectionMatrix()}var a,l=320,r=240,d={fullscreen:{text:"fullscreen",title:"Full-Screen"},fullscreenExit:{text:"fullscreen_exit",title:"Full-Screen Exit"}},s=d.fullscreen,a=new THREE.WebGLRenderer({alpha:!0,antialias:!0});a.setClearColor(16777215,0),$("#logo-container").append(a.domElement);var c=new THREE.Scene,u=new THREE.PerspectiveCamera(75,1,.1,1e3);u.position.z=5,u.position.x=5,u.position.y=5;var y=new THREE.Vector3(0,0,0);u.lookAt(y),u.updateProjectionMatrix();var p=new THREE.OrbitControls(u,a.domElement);p.target=y,addMonkey(c),addPlane(c),addEyes(c),addGrid(c,3,1),addLights(c),t(),setInterval(i,500),o(),$(window).on("resize",function(){t()}),Scene.toggleSize=function(){var e,i;"fullscreen"==s.text?(e=window.innerWidth,i=window.innerHeight,s=d.fullscreenExit):(e=l,i=r,s=d.fullscreen),$("#logo-container").fadeOut(function(){$(this).width(e).height(i),$("#logo-container canvas").width(e).height(i).css({width:e+"px",height:i+"px"}),$("#fullscreen").text(s.text).attr("title",s.title),t(),$(this).fadeIn()})}}function addMonkey(e){var i=new THREE.JSONLoader;i.load("./yz/obj/suzanne.json",function(i){var n=new THREE.MeshNormalMaterial({wireframe:!1}),o=new THREE.Mesh(i,n);o.position.x=monkey.x,o.position.y=monkey.y,o.position.z=monkey.z,o.rotation.x=Math.PI/2,e.add(o)})}function addPlane(e){var i=new THREE.MeshBasicMaterial({color:14540253,transparent:!0,opacity:.5});i.side=THREE.DoubleSide;var n=new THREE.PlaneGeometry(plane.width,plane.width,1,1),o=new THREE.Mesh(n,i);o.position.x=plane.x,o.position.y=plane.y,o.position.z=plane.z,e.add(o)}function addEyes(e){eye.obj=addCircle(e,{radius:eye.radius,color:eye.color,x:eye.x,y:eye.y})}function addCircle(e,i){void 0===i&&(i={}),void 0===i.radius&&(i.radius=.1),void 0===i.color&&(i.color=16776960),void 0===i.x&&(i.x=0),void 0===i.y&&(i.y=0),void 0===i.z&&(i.z=plane.z);var n=new THREE.CircleGeometry(i.radius,32),o=new THREE.MeshBasicMaterial({color:i.color});o.side=THREE.DoubleSide;var t=new THREE.Mesh(n,o);return t.position.x=i.x,t.position.y=i.y,t.position.z=i.z,e.add(t),t}function addGrid(e,i,n){void 0===i&&(i=10),void 0===n&&(n=2.5),e.add(new THREE.GridHelper(i,n))}function addLights(e){var i=new THREE.DirectionalLight(12105912);i.position.set(1,1,1).normalize(),i.intensity=1,e.add(i),i=new THREE.DirectionalLight(12105912),i.position.set(-1,.6,.5).normalize(),i.intensity=.5,e.add(i),i=new THREE.DirectionalLight,i.position.set(-.3,.6,-.8).normalize(12105912),i.intensity=.45,e.add(i)}function addName(){var e='<i class="material-icons" style="font-size:14px;" title="3D Logo">3d_rotation</i><span title="mailto:yasin.zamani@gmail.com">&nbsp;Yasin Zamani</span>';$(document.body).append("<footer id='monkey-logo-designer'>"+e+"</footer>")}function addLogoContainer(){var e='<div id="logo-container"><ul><li><a href="javascript:Scene.toggleSize()"><i id="fullscreen" class="material-icons" style="font-size:24px;" title="Full-Screen">fullscreen</i></a></li><li><a href="mailto:behrad.noudoost@gmail.com?Subject=Monkey%20Trainer!"><i id="mail_outline" class="material-icons" style="font-size:24px;" title="If you think that you can train a monkey! Please call me :)">mail_outline</i></a></li></ul></div>';$("#yz").append(e)}var Scene={},monkey={x:0,y:2,z:0},plane={x:0,y:2,z:3,width:3},eye={obj:null,x:0,y:2,radius:.2};$(document).ready(function(){addName(),addLogoContainer(),initScene(),$("#logo-container").on("mouseenter",function(){$("#logo-container ul").fadeIn()}).on("mouseleave",function(){$("#logo-container ul").fadeOut()})});
